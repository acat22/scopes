(function(){var f={_prevInParam:null,_paramName:"$sm",noConflict:function(b){b&&null!==this._prevInParam&&(window[this._paramName]=this._prevInParam);return this},_scopes:[],_usedScopes:[],pushScopes:function(){var b;for(b=0;b<arguments.length;b++){var a=arguments[b];a.name?a.scope?(a.vars||(a.vars={}),this._scopes.push(a)):console.log("!Error: the scope's function isn't defined"):console.log("!Error: the scope's name isn't defined")}},getScope:function(b){for(var a=this._scopes,c=0;c<a.length;c++)if(a[c].name==
b)return a[c];return!1},sf:function(b){return(b=this.getScope(b))?b.vars:!1},addVar:function(b,a,c){if("string"!==typeof b)if(b.name)b=b.name;else return;if("function"===typeof a&&(c=a,a=c.name,!a))return;for(var e=this._scopes,d=0;d<e.length;d++)e[d].name==b&&(e[d].vars[a]=c)},init:function(){for(var b=this.defaultScopes,a=0;a<b.length;a++)this.useScope(b[a]);for(var b=window.location.pathname,c=window.location.href,e=this._scopes,a=0;a<e.length;a++){var d=e[a];(d.rex&&d.rex.test(c)||d.rexp&&d.rexp.test(b))&&
!this.scopeUsed(d.name)&&(this._usedScopes.push(d.name),d.scope())}b=this.scopes;for(a=0;a<b.length;a++)this.useScope(b[a])},useScope:function(){for(var b=0;b<arguments.length;b++){var a=arguments[b],c=this.getScope(a);c?this.scopeUsed(c.name)||(this._usedScopes.push(c.name),c.scope()):console.log("!Error: scope '"+a+"' couldn't be found.")}},scopeUsed:function(b){for(var a=this._usedScopes,c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},destruct:function(b){var a=this.getScope(b);if(a.destruct){a.destruct();
for(var a=[],c=this._usedScopes,e=0;e<c.length;e++)c[e]!=b&&a.push(c[e]);this._usedScopes=a}},defaultScopes:[],scopes:[],cmp:{},utils:{}};void 0!==window[f._paramName]&&null!==window[f._paramName]&&(f._prevInParam=window[f._paramName]);window[f._paramName]=function(){0<arguments.length&&(f.scopes=arguments);return f}})();
